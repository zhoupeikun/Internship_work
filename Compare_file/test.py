import os
import os.path
import fnmatch

with open('sent.txt', 'r') as sent_file:
    with open('received.txt', 'r') as received_file:
        notsame = set(sent_file).difference(received_file)


with open('sent.txt', 'r') as sent_file:
    with open('received.txt', 'r') as received_file:
        same = set(sent_file).intersection(received_file)

# same.discard('\n')
# print same
# print notsame


with open('some_output_file.txt', 'w') as file_out:
    file_out.write('Received OK\n')
    
    for line1 in same:
        file_out.write(line1)

    file_out.write('\nNot received: \n')
    for line2 in notsame:
        file_out.write(line2)

def returnold(folder):
    matches = []
    name_complet = []
    name_list = []
    for root, dirnames, filenames in os.walk(folder):
        for filename in filenames:
            matches.append(os.path.join(root, filename))  
    # complet root and name sorted     
    sorted_matches =  sorted(matches, key=os.path.getmtime)
    # complet file name including type
    for name in sorted_matches:
        name_complet.append(name.split("/")[-1])
    # file name not inlcuding type
    for names in name_complet:
        name_list.append(names.split(".")[0])
    return name_list

sent_name = returnold('C:/Users/pzhou/Desktop/test/sent/')
# print sent_name

def walk_dir_received(dir, topdown=True):
    ok_list = []
    for root, dirs, files in os.walk(dir):
        for name in files:
            #print '.acq' type files
            if name.find('.acq') != -1:
                currentPath = os.path.join(root, name)
                filesize = os.path.getsize(currentPath)
                if filesize == 13:
                    ok_list.append(os.path.join(name[:40]))
                else :
                    not_list.append(os.path.join(name))
    return ok_list

dir_received = r'C:/Users/pzhou/Desktop/test/received'
#print walk_dir_received(dir_received)

#l1 = ['aaaaaad', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip', 'c', 'd']
#l1 = ['COFREP-B00000390-2015-04-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-06-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-07-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-08-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-09-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-09-SLCRXX-00-L-N-- (2).zip', 'COFREP-B00000390-2015-09-SNSFRX-00-L-N--.zip', 'COFREP-B00000390-2015-06-SLCRXX-00-L-N-- (2).zip', 'COFREP-B00000390-2015-06-SCOREP-00-L-N-S.zip', 'COFREP-B00000390-2015-09-SAEXXX-00-L-N--.zip', 'COFREP-B00000390-2015-09-SAEXXX-00-L-N-- (2).zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--3.zip', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N-- (2).zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N-- (3).zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--.zip', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S (2).zip', 'COFREP-B00000390-2015-10-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N-- (4).zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N-- (5).zip', 'COFREP-B00000390-2015-12-SAEXXX-00-L-N--.zip', 'COFREP-B00000390-2015-12-SNSFRX-00-L-N--.zip', 'COFREP-B00000390-2015-12-SLAREX-00-L-N--.zip', 'COFREP-B00000390-2015-12-SCOREP-00-L-N-S.zip', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N-- (2).zip', 'COFREP-B00000390-2015-12-SLAREX-00-L-N-- (2).zip', 'COFREP-B00000390-2016-01-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-12-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2016-02-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2016-03-SLCRXX-00-L-N--.zip']
#l2 = ['COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip_20150615214653164.acq', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip_20150616151650039.acq', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip_20160211171118511.acq']
#l2 = ['COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip_20150615214653164.acq', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip_20150616151650039.acq', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip_20160211171118511.acq', 'COFREP-B00000390-2015-06-CCOREP-00-C-N-S.zip_20150813124009424.acq', 'COFREP-B00000390-2015-06-SCOREP-00-L-N-S.zip_20150811204007838.acq', 'COFREP-B00000390-2015-06-SCOREP-00-L-N-S.zip_20150813124009408.acq', 'COFREP-B00000390-2015-06-SCOREP-00-L-N-S.zip_20150814164007916.acq', 'COFREP-B00000390-2015-06-SCOREP-00-L-N-S.zip_20151106175334976.acq', 'COFREP-B00000390-2015-06-SLAREX-00-L-N--.zip_20150817171247965.acq', 'COFREP-B00000390-2015-06-SLAREX-00-L-N--.zip_20150818211246954.acq', 'COFREP-B00000390-2015-06-SLAREX-00-L-N--.zip_20150819101248409.acq', 'COFREP-B00000390-2015-06-SLCRXX-00-L-N--.zip_20150717171649810.acq', 'COFREP-B00000390-2015-06-SLCRXX-00-L-N--.zip_20151104105334727.acq', 'COFREP-B00000390-2015-06-SNSFRX-00-L-N--.zip_20150811181010302.acq', 'COFREP-B00000390-2015-07-SLCRXX-00-L-N--.zip_20150814174011072.acq', 'COFREP-B00000390-2015-08-SLCRXX-00-L-N--.zip_20150915183243227.acq', 'COFREP-B00000390-2015-09-SAEXXX-00-L-N--.zip_20151110162334460.acq', 'COFREP-B00000390-2015-09-SAEXXX-00-L-N--.zip_20151110185334698.acq', 'COFREP-B00000390-2015-09-SAEXXX-00-L-N--.zip_20151228175334621.acq', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip_20151112085334134.acq', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip_20151112102336918.acq', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip_20160111162337377.acq', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip_20160114175213192.acq', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip_20160115102214651.acq', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--.zip_20151111192334786.acq', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--.zip_20151112092335073.acq', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--.zip_20151112102336918.acq', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--.zip_20151117102334630.acq', 'COFREP-B00000390-2015-09-SLCRXX-00-L-N--.zip_20151014165335001.acq', 'COFREP-B00000390-2015-09-SLCRXX-00-L-N--.zip_20151030135334738.acq', 'COFREP-B00000390-2015-09-SNSFRX-00-L-N--.zip_20151111182334765.acq', 'COFREP-B00000390-2015-11-SLCRXX-00-L-N--.zip_20151215152334656.acq', 'COFREP-B00000390-2015-12-SAEXXX-00-L-N--.zip_20160211151123922.acq', 'COFREP-B00000390-2015-12-SCOREP-00-L-N-S.zip_20160211151123938.acq', 'COFREP-B00000390-2015-12-SLAREX-00-L-N--.zip_20160211151123938.acq', 'COFREP-B00000390-2015-12-SLAREX-00-L-N--.zip_20160212141118066.acq', 'COFREP-B00000390-2015-12-SLCRXX-00-L-N--.zip_20160115145213289.acq', 'COFREP-B00000390-2015-12-SLCRXX-00-L-N--.zip_20160223164118627.acq', 'COFREP-B00000390-2015-12-SNSFRX-00-L-N--.zip_20160211151123906.acq', 'COFREP-B00000390-2016-01-SLCRXX-00-L-N--.zip_20160215171118639.acq', 'COFREP-B00000390-2016-02-SLCRXX-00-L-N--.zip_20160315144125174.acq', 'COFREP-B00000390-2016-03-SLCRXX-00-L-N--.zip_20160415151449849.acq']

# l1 = ['aaaaaad', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip', 'c', 'd']
# l2 = ['aaaaaac', 'sada', 'dadada', 'da', 'di']

# l3 = []
# for e1 in l1:
#     for e2 in l2:
#         if e1[:6] == e2[:6]:
#             l1.remove(e1)
#             l2.remove(e2)
#             l3.append(e1 + '    OK')
#            # break
# print l1
# print l2
# print l3

l1 = ['COFREP-B00000390-2015-04-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-06-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-07-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-08-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-09-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-09-SLCRXX-00-L-N-- (2).zip', 'COFREP-B00000390-2015-09-SNSFRX-00-L-N--.zip', 'COFREP-B00000390-2015-06-SLCRXX-00-L-N-- (2).zip', 'COFREP-B00000390-2015-06-SCOREP-00-L-N-S.zip', 'COFREP-B00000390-2015-09-SAEXXX-00-L-N--.zip', 'COFREP-B00000390-2015-09-SAEXXX-00-L-N-- (2).zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--3.zip', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N-- (2).zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N-- (3).zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--.zip', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S (2).zip', 'COFREP-B00000390-2015-10-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N-- (4).zip', 'COFREP-B00000390-2015-09-SLAREX-00-L-N-- (5).zip', 'COFREP-B00000390-2015-12-SAEXXX-00-L-N--.zip', 'COFREP-B00000390-2015-12-SNSFRX-00-L-N--.zip', 'COFREP-B00000390-2015-12-SLAREX-00-L-N--.zip', 'COFREP-B00000390-2015-12-SCOREP-00-L-N-S.zip', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N-- (2).zip', 'COFREP-B00000390-2015-12-SLAREX-00-L-N-- (2).zip', 'COFREP-B00000390-2016-01-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2015-12-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2016-02-SLCRXX-00-L-N--.zip', 'COFREP-B00000390-2016-03-SLCRXX-00-L-N--.zip']
l2 = ['COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip_20150615214653164.acq', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip_20150616151650039.acq', 'COFREP-B00000390-2015-05-SLCRXX-00-L-N--.zip_20160211171118511.acq', 'COFREP-B00000390-2015-06-CCOREP-00-C-N-S.zip_20150813124009424.acq', 'COFREP-B00000390-2015-06-SCOREP-00-L-N-S.zip_20150811204007838.acq', 'COFREP-B00000390-2015-06-SCOREP-00-L-N-S.zip_20150813124009408.acq', 'COFREP-B00000390-2015-06-SCOREP-00-L-N-S.zip_20150814164007916.acq', 'COFREP-B00000390-2015-06-SCOREP-00-L-N-S.zip_20151106175334976.acq', 'COFREP-B00000390-2015-06-SLAREX-00-L-N--.zip_20150817171247965.acq', 'COFREP-B00000390-2015-06-SLAREX-00-L-N--.zip_20150818211246954.acq', 'COFREP-B00000390-2015-06-SLAREX-00-L-N--.zip_20150819101248409.acq', 'COFREP-B00000390-2015-06-SLCRXX-00-L-N--.zip_20150717171649810.acq', 'COFREP-B00000390-2015-06-SLCRXX-00-L-N--.zip_20151104105334727.acq', 'COFREP-B00000390-2015-06-SNSFRX-00-L-N--.zip_20150811181010302.acq', 'COFREP-B00000390-2015-07-SLCRXX-00-L-N--.zip_20150814174011072.acq', 'COFREP-B00000390-2015-08-SLCRXX-00-L-N--.zip_20150915183243227.acq', 'COFREP-B00000390-2015-09-SAEXXX-00-L-N--.zip_20151110162334460.acq', 'COFREP-B00000390-2015-09-SAEXXX-00-L-N--.zip_20151110185334698.acq', 'COFREP-B00000390-2015-09-SAEXXX-00-L-N--.zip_20151228175334621.acq', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip_20151112085334134.acq', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip_20151112102336918.acq', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip_20160111162337377.acq', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip_20160114175213192.acq', 'COFREP-B00000390-2015-09-SCOREP-00-L-N-S.zip_20160115102214651.acq', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--.zip_20151111192334786.acq', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--.zip_20151112092335073.acq', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--.zip_20151112102336918.acq', 'COFREP-B00000390-2015-09-SLAREX-00-L-N--.zip_20151117102334630.acq', 'COFREP-B00000390-2015-09-SLCRXX-00-L-N--.zip_20151014165335001.acq', 'COFREP-B00000390-2015-09-SLCRXX-00-L-N--.zip_20151030135334738.acq', 'COFREP-B00000390-2015-09-SNSFRX-00-L-N--.zip_20151111182334765.acq', 'COFREP-B00000390-2015-11-SLCRXX-00-L-N--.zip_20151215152334656.acq', 'COFREP-B00000390-2015-12-SAEXXX-00-L-N--.zip_20160211151123922.acq', 'COFREP-B00000390-2015-12-SCOREP-00-L-N-S.zip_20160211151123938.acq', 'COFREP-B00000390-2015-12-SLAREX-00-L-N--.zip_20160211151123938.acq', 'COFREP-B00000390-2015-12-SLAREX-00-L-N--.zip_20160212141118066.acq', 'COFREP-B00000390-2015-12-SLCRXX-00-L-N--.zip_20160115145213289.acq', 'COFREP-B00000390-2015-12-SLCRXX-00-L-N--.zip_20160223164118627.acq', 'COFREP-B00000390-2015-12-SNSFRX-00-L-N--.zip_20160211151123906.acq', 'COFREP-B00000390-2016-01-SLCRXX-00-L-N--.zip_20160215171118639.acq', 'COFREP-B00000390-2016-02-SLCRXX-00-L-N--.zip_20160315144125174.acq', 'COFREP-B00000390-2016-03-SLCRXX-00-L-N--.zip_20160415151449849.acq']
l3 = []
for e1 in l1:
    for e2 in l2:
        if e1[:40] == e2[:40]:
            l1.remove(e1)
            l2.remove(e2)
            l3.append(e1)
            break
#print l1
#print l2
print l3